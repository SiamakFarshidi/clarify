double origin_lon=0;double origin_lat=0; double geoDistanceSuitability=0; double actualDistance=(Math.asin(Math.sqrt((Math.pow(Math.sin((Math.toRadians(doc[\"lat\"].value) - Math.toRadians(origin_lat)) / 2), 2)+ Math.cos(Math.toRadians(origin_lat)) * Math.cos(Math.toRadians(doc[\"lat\"].value))* Math.pow(Math.sin((Math.toRadians(doc[\"lng\"].value) - Math.toRadians(origin_lon)) / 2),2)))) * 12742); if (actualDistance<=params.reqDistance) {geoDistanceSuitability= 1- (actualDistance/params.reqDistance);} else {geoDistanceSuitability= 1 - (params.reqDistance/actualDistance ); } return geoDistanceSuitability;